import{H as v,bp as y,L as d,M as f,ad as b,bu as w,Q as o,a0 as r,V as c,aF as h,a2 as N,aV as g,a1 as C,T as V,ah as z,bc as k,b7 as S,R as x,ag as B,aE as T,bj as q}from"./index-cBNdzZ-c.js";import{u as A}from"./hooks-ByxKuBvY.js";const E={key:0},Q={class:"quiz-container mc"},j={class:"mt-30 mb-20"},D={class:"mt-20 mb-20 text-center"},I=v({__name:"QuizView",setup(M){const u=y(),t=d({surveyCount:0,coms:[]}),i=f(()=>A(t.value.coms));b(async()=>{const s=u.params.id,e=await(await fetch("/api/getQuiz/"+s)).json();e.coms=JSON.parse(e.coms),w(e.coms),t.value=e});const n=d({});function p(s,a){const e=i.value[s];console.log(e),e!==null?(n.value[e]=a,console.log(n.value)):console.error(`The serial number at index ${s} is null.`)}async function _(){const s=u.params.id;await fetch("/api/submitAnswers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quizId:s,answers:n.value})}),k({message:"答案已提交",type:"success"})}return(s,a)=>{const e=S;return t.value?(o(),r("div",E,[c("div",Q,[c("div",j,"题目数量："+h(t.value.surveyCount),1),(o(!0),r(N,null,g(t.value.coms,(l,m)=>(o(),r("div",{class:"content mb-10",key:m},[(o(),x(B(l.type),{status:l.status,serialNum:i.value[m],onUpdateAnswer:p},null,40,["status","serialNum"]))]))),128)),c("div",D,[C(e,{type:"primary",onClick:_},{default:V(()=>a[0]||(a[0]=[T("提交答案")])),_:1})])])])):z("",!0)}}}),J=q(I,[["__scopeId","data-v-d402a9c4"]]);export{J as default};
